<?php
class Request{private static $aGet=array();private static $aPost=array();private static $aServer=array();private static $aFiles=array();public static function init(){if(get_magic_quotes_gpc()){self::stripSlashes($_GET);self::stripSlashes($_POST);self::stripSlashes($_FILES);self::stripSlashes($_SERVER);}self::$aGet=$_GET;self::$aPost=$_POST;self::$aFiles=$_FILES;self::$aServer=$_SERVER;}private static function stripSlashes(array&$mData){array_walk_recursive($mData,create_function('&$sData','$sData=stripslashes($sData);'));}public static function getCurrentUrl(){static $sFullPath;if($sFullPath===NULL){$sFullPath=sprintf('http%s://%s%s%s',((strncasecmp(self::getServer('HTTPS'),'on',2)===0)?'s':NULL),self::getServer('HTTP_HOST'),self::getServer('SCRIPT_NAME'),((($sQuery=self::getServer('QUERY_STRING'))==='')?'':'?'.$sQuery));}return $sFullPath;}public static function getGet($sName){return Arr::get($sName,self::$aGet);}public static function getPost($sName){return Arr::get($sName,self::$aPost);}public static function getFiles($sName=NULL){return Arr::get($sName,self::$aFiles);}public static function getServer($sName){if(isset(self::$aServer[$sName])){return self::$aServer[$sName];}return FALSE;}public static function getServerAll(){return self::$aServer;}}