<?php
class Form{public static function open($sUrl=NULL,$sMethod='post',array$aParams=array()){if($sUrl===NULL){$sUrl=Request::getCurrentUrl();}if(strtolower($sMethod)!=='get'){$sMethod='post';}$sParams=NULL;if($aParams!==array()){foreach($aParams as $sOption=>$sValue){if(ctype_alpha($sOption)){$sParams.=' '.$sOption.'="'.htmlspecialchars($sValue,ENT_QUOTES).'"';}}}return '<form action="' . Request::getCurrentUrl($sUrl,TRUE) . '" method="'.$sMethod.'"'.$sParams.'>';}public static function openMultiPart($sUrl=NULL,array$aParams=array()){if($sUrl===NULL){$sUrl=Request::getCurrentUrl();}$sParams=NULL;if($aParams!==array()){foreach($aParams as $sOption=>$sValue){if(ctype_alpha($sOption)){$sParams.=' '.$sOption.'="'.htmlspecialchars($sValue,ENT_QUOTES).'"';}}}return '<form action="'.Request::getCurrentUrl($sUrl,TRUE).'" enctype="multipart/form-data" method="post"'.$sParams.'>';}protected static function input($sType,$sName,$sValue,$bRemember=TRUE,array$aParams=array()){if($bRemember&&(Request::getPost($sName)!==FALSE)){$sValue=(string)Request::getPost($sName);}$sParams=NULL;if($aParams!==array()){foreach($aParams as $sOption=>$sOptionValue){if(ctype_alpha($sOption)){$sParams.=' '.$sOption.'="'.htmlspecialchars($sOptionValue,ENT_QUOTES).'"';}}}return '<input type="'.$sType.'" name="'.htmlspecialchars($sName,ENT_QUOTES).'" value="'.htmlspecialchars($sValue,ENT_QUOTES).'"'.$sParams.' />';}public static function inputText($sName,$sValue=NULL,$bRemember=TRUE,array$aParams=array()){return self::input('text',$sName,$sValue,$bRemember,$aParams);}public static function inputHidden($sName,$sValue=NULL,array$aParams=array()){return self::input('hidden',$sName,$sValue,FALSE,$aParams);}public static function inputFile($sName,array$aParams=array()){return self::input('file',$sName,NULL,FALSE,$aParams);}public static function inputSubmit($sName,$sValue,array$aParams=array()){return self::input( 'submit',$sName,$sValue,FALSE,$aParams);}public static function textarea($sName,$sValue=NULL,$bRemember=TRUE,array$aParams=array()){if($bRemember&&(Request::getPost($sName)!==FALSE)){$sValue=(string)Request::getPost($sName);}$sParams = NULL;if($aParams!==array()){foreach($aParams as $sOption=>$sOptionValue){if(ctype_alpha($sOption)){$sParams.=' '.$sOption.'="'.htmlspecialchars($sOptionValue,ENT_QUOTES).'"';}}}return '<textarea name="'.htmlspecialchars($sName,ENT_QUOTES).'"'.$sParams.'>'.htmlspecialchars($sValue,ENT_QUOTES).'</textarea>';}public static function close(){return '</form>';}}